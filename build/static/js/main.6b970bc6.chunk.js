(this["webpackJsonppart2-notes"]=this["webpackJsonppart2-notes"]||[]).push([[0],{258:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(0),c=n(33),s=n.n(c),i=n(8),o=n(272),l=n(266),u=n(14),j=n(263),b=n(116),d=function(){var e=Object(u.g)();return Object(r.jsxs)(j.a,{children:[Object(r.jsx)("h1",{children:"Any Contest"}),Object(r.jsx)("p",{children:"\u3053\u306e\u30b5\u30a4\u30c8\u3067\u306f\u69d8\u3005\u306a\u30b8\u30e3\u30f3\u30eb\u306e\u30b3\u30f3\u30c6\u30b9\u30c8\u3092\u958b\u50ac\u3059\u308b\u4e88\u5b9a\u3067\u3059\u3002\u65e9\u901f\u30b8\u30e3\u30f3\u30eb\u4e00\u89a7\u3092\u898b\u3066\u304f\u3060\u3055\u3044\uff01"}),Object(r.jsx)("p",{children:Object(r.jsx)(b.a,{variant:"primary",onClick:function(t){t.preventDefault(),e.push("/fields")},children:"\u30b8\u30e3\u30f3\u30eb\u4e00\u89a7\u3078"})})]})},h=n(264),p=n(273),O=n(6),m=n.n(O),x=n(9),f=n(11),g=n.n(f),v=function(){var e=Object(x.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("".concat("/api/fields/","name"));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(u.g)(),t=Object(a.useState)(!1),n=Object(i.a)(t,2),c=n[0],s=n[1],o=Object(a.useState)([]),l=Object(i.a)(o,2),j=l[0],d=l[1];Object(a.useEffect)((function(){v().then((function(e){d(e)})),null!==JSON.parse(window.localStorage.getItem("loggedUser"))&&s(!0)}),[]);var O=function(t){t.preventDefault(),e.push("/fields/".concat(t.target.name))};return 0===j.length?Object(r.jsx)("p",{children:"Loading contests..."}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h1",{children:"Contests"}),Object(r.jsx)(h.a,{children:j.map((function(e){var t=e[0],n=e[1];return Object(r.jsx)(p.a,{style:{width:"16rem"},children:Object(r.jsxs)(p.a.Body,{children:[Object(r.jsx)(p.a.Title,{children:t}),Object(r.jsx)(p.a.Text,{children:n}),Object(r.jsx)(b.a,{name:t,variant:"primary",onClick:O,children:"\u30b3\u30f3\u30c6\u30b9\u30c8\u4e00\u89a7\u3078"})]})},t)}))}),c&&Object(r.jsxs)("div",{style:{paddingTop:20},children:[Object(r.jsx)(b.a,{onClick:function(t){t.preventDefault(),e.push("/create_contest")},variant:"outline-primary",block:!0,children:"\u30b3\u30f3\u30c6\u30b9\u30c8\u3092\u4f5c\u308b"})," "]}),!c&&Object(r.jsxs)("div",{style:{paddingTop:20},children:[Object(r.jsx)(b.a,{onClick:function(t){t.preventDefault(),e.push("/signup")},variant:"outline-primary",block:!0,children:"\u30b3\u30f3\u30c6\u30b9\u30c8\u3092\u4f5c\u308b"})," "]})]})},S=n(265),y=n(12),N="/api/contests/",k=function(){var e=Object(x.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.post("".concat(N,"search_by_date"),t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(x.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("".concat(N).concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(x.a)(m.a.mark((function e(t){var n,r,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(n=JSON.parse(localStorage.getItem("loggedUser")))){e.next=3;break}return e.abrupt("return",[]);case 3:return r="bearer ".concat(n.token),e.next=6,g.a.post(N,t,{headers:{Authorization:r}});case 6:return a=e.sent,e.abrupt("return",a.data);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(x.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("".concat(N,"ranking/").concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(x.a)(m.a.mark((function e(t){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="bearer ".concat(JSON.parse(localStorage.getItem("loggedUser")).token),e.next=3,g.a.post("".concat(N,"register/"),{contestName:t},{headers:{Authorization:n}});case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(x.a)(m.a.mark((function e(t){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="bearer ".concat(JSON.parse(localStorage.getItem("loggedUser")).token),e.next=3,g.a.post("".concat(N,"unregister/"),{contestName:t},{headers:{Authorization:n}});case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(e){var t=e.fieldName,n={field:t,fromTime:"2000-01-01 00:00:00",toTime:"2100-00-00 00:00:00"},c=Object(a.useState)(null),s=Object(i.a)(c,2),o=s[0],l=s[1];return Object(a.useEffect)((function(){k(n).then((function(e){return l(e)}))}),[]),null===o?Object(r.jsx)("p",{children:"Loading contests..."}):Object(r.jsxs)("div",{children:[Object(r.jsx)("h2",{children:t}),Object(r.jsx)(S.a,{striped:!0,children:Object(r.jsx)("tbody",{children:o.map((function(e){return Object(r.jsx)("tr",{children:Object(r.jsx)("td",{children:Object(r.jsx)(y.b,{to:"/contests/".concat(e.name),children:e.name})})},e.name)}))})})]})},D=n(270),E=function(e){var t=e.contestName,n=e.active;return Object(r.jsxs)(D.a,{variant:"tabs",defaultActiveKey:"/contests/".concat(t),children:[Object(r.jsx)(D.a.Link,{href:"/contests/".concat(t),active:"home"===n,children:"home"}),Object(r.jsx)(D.a.Link,{href:"/contests/".concat(t,"/problems"),active:"problems"===n,children:"problems"}),Object(r.jsx)(D.a.Link,{href:"/contests/".concat(t,"/ranking"),active:"ranking"===n,children:"ranking"}),Object(r.jsx)(D.a.Link,{href:"/contests/".concat(t,"/submissions"),active:"submissions"===n,children:"submissions"})]})},U=function(){var e=Object(u.g)();return Object(r.jsx)(b.a,{variant:"primary",onClick:function(t){t.preventDefault(),e.push("/signup")},children:"\u30e6\u30fc\u30b6\u30fc\u767b\u9332\u3059\u308b"})},V=function(e){var t=e.contestName,n=Object(a.useState)(null),c=Object(i.a)(n,2),s=c[0],o=c[1],l=Object(a.useState)(!1),u=Object(i.a)(l,2),d=u[0],h=u[1],p=Object(a.useState)(!0),O=Object(i.a)(p,2),m=O[0],x=O[1],f=Object(a.useState)(!0),g=Object(i.a)(f,2),v=g[0],w=g[1];return Object(a.useEffect)((function(){T(t).then((function(e){o(e[0]);var t=JSON.parse(window.localStorage.getItem("loggedUser"));if(null!==t){var n=t.userid,r=0!==e[0].ranking.filter((function(e){return e.id===n})).length;x(r),h(!0),w(e[0].__v)}}))}),[]),null===s?Object(r.jsx)("div",{children:"Loading contests..."}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(E,{contestName:t,active:"home"}),Object(r.jsxs)("div",{children:["\u30b3\u30f3\u30c6\u30b9\u30c8\u6642\u9593:",s.startTime.substring(0,16),"\u301c",s.endTime.substring(0,16)]}),Object(r.jsxs)(j.a,{children:[Object(r.jsx)("h1",{children:s.name}),Object(r.jsx)("div",{children:s.description}),!v&&d&&!m&&Object(r.jsx)(b.a,{variant:"primary",onClick:function(e){e.preventDefault(),L(t),x(!0)},children:"\u767b\u9332"}),!v&&d&&m&&Object(r.jsx)(b.a,{variant:"secondary",onClick:function(e){e.preventDefault(),J(t),x(!1)},children:"\u767b\u9332\u89e3\u9664"}),!d&&Object(r.jsx)(U,{})]})]})},A=function(e){var t=e.contestName,n=Object(a.useState)(null),c=Object(i.a)(n,2),s=c[0],o=c[1];return Object(a.useEffect)((function(){T(t).then((function(e){return o(e[0].problemNames)}))}),[]),null===s?Object(r.jsx)("p",{children:"Loading contests..."}):Object(r.jsxs)("div",{children:[Object(r.jsx)(E,{contestName:t,active:"problems"}),Object(r.jsxs)(S.a,{bordered:!0,children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{scope:"col",children:" "}),Object(r.jsx)("th",{scope:"col",children:"\u554f\u984c\u540d"})]})}),Object(r.jsx)("tbody",{children:s.map((function(e,t){return Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{scope:"row",children:t}),Object(r.jsx)("td",{children:Object(r.jsx)(y.b,{to:"/problems/".concat(e),children:e})})]},e)}))})]})]})},_=n(269),F="/api/submissions/",P=function(){var e=Object(x.a)(m.a.mark((function e(){var t,n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(t=JSON.parse(localStorage.getItem("loggedUser")))){e.next=3;break}return e.abrupt("return",[]);case 3:return n="bearer ".concat(t.token),e.next=6,g.a.post("".concat(F,"userid/"),{},{headers:{Authorization:n}});case 6:return r=e.sent,e.abrupt("return",r.data);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(x.a)(m.a.mark((function e(t){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="bearer ".concat(JSON.parse(localStorage.getItem("loggedUser")).token),e.next=3,g.a.post(F,t,{headers:{Authorization:n}});case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(e){var t=e.contestName,n=e.problemName,c=Object(u.g)(),s=Object(a.useState)(!1),o=Object(i.a)(s,2),l=o[0],j=o[1];Object(a.useEffect)((function(){null!==JSON.parse(window.localStorage.getItem("loggedUser"))&&j(!0)}),[]);var d=function(){var e=Object(x.a)(m.a.mark((function e(r){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),a=r.target[0].value,e.prev=2,e.next=5,R({problemName:n,contestName:t,answer:a});case 5:e.sent,c.push("/contests/".concat(t,"/submissions")),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log("err");case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("section",{children:Object(r.jsx)("span",{children:Object(r.jsx)("h3",{style:{marginTop:40,fontWeight:"bold"},children:"\u5165\u529b"})})}),Object(r.jsx)(_.a,{onSubmit:d,children:Object(r.jsxs)(_.a.Group,{controlId:"exampleForm.ControlTextarea1",children:[Object(r.jsx)(_.a.Control,{as:"textarea",rows:1}),l&&Object(r.jsx)(b.a,{variant:"primary",type:"submit",children:"\u63d0\u51fa"}),!l&&Object(r.jsx)(U,{})]})})]})},z=function(e){var t=e.judgeType,n=e.contestName,a=e.problemName;return"SimpleInput"===t?Object(r.jsx)(G,{contestName:n,problemName:a}):Object(r.jsx)("div",{children:"error"})},W="/api/problems/",B=function(){var e=Object(x.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("".concat(W).concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(x.a)(m.a.mark((function e(t){var n,r,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(n=JSON.parse(localStorage.getItem("loggedUser")))){e.next=3;break}return e.abrupt("return",[]);case 3:return r="bearer ".concat(n.token),e.next=6,g.a.post("".concat(W),t,{headers:{Authorization:r}});case 6:return a=e.sent,e.abrupt("return",a.data);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H={fontWeight:"bold"},q=function(e){var t=e.problemName,n=Object(a.useState)(null),c=Object(i.a)(n,2),s=c[0],o=c[1];return Object(a.useEffect)((function(){B(t).then((function(e){return o(e[0])}))}),[]),null===s?Object(r.jsx)("p",{children:"Loading contests..."}):Object(r.jsxs)("div",{children:[Object(r.jsx)(E,{contestName:s.contest}),Object(r.jsxs)("span",{children:[Object(r.jsx)("h2",{style:H,children:s.name}),Object(r.jsx)("hr",{})]}),Object(r.jsxs)("section",{children:[Object(r.jsx)("span",{children:Object(r.jsx)("h3",{style:H,children:"\u554f\u984c\u6587"})}),Object(r.jsx)("span",{children:s.problemStatement})]}),Object(r.jsx)(z,{judgeType:s.judgeType,contestName:s.contest,problemName:t})]})},Q=n(267),X=function(e){var t=e.contestName,n=Object(a.useState)(null),c=Object(i.a)(n,2),s=c[0],o=c[1];return Object(a.useEffect)((function(){P().then((function(e){o(e.filter((function(e){return e.contestName===t})).reverse())}))}),[]),null===s?Object(r.jsx)("div",{children:"Loading contests..."}):0===s.length?Object(r.jsx)("div",{children:"\u63d0\u51fa\u306f\u3042\u308a\u307e\u305b\u3093"}):Object(r.jsx)(l.a,{children:Object(r.jsxs)(S.a,{bordered:!0,hover:!0,children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{children:"problem"}),Object(r.jsx)("th",{children:"answer"}),Object(r.jsx)("th",{children:"state"}),Object(r.jsx)("th",{children:"time"})]})}),Object(r.jsx)("tbody",{children:s.map((function(e,t){return Object(r.jsxs)("tr",{className:0===t?"OK"===e.state?"table-success":"table-danger":"table-light",children:[Object(r.jsx)("td",{children:e.problemName}),Object(r.jsx)("td",{children:e.answer}),Object(r.jsxs)("td",{children:[Object(r.jsxs)(Q.a,{variant:"OK"===e.state?"success":"danger",children:[" ",e.state," "]})," "]}),Object(r.jsx)("td",{children:e.time})]},t)}))})]})})},Y=function(e){var t=e.contestName;return Object(r.jsxs)("div",{children:[Object(r.jsx)(E,{contestName:t,active:"submissions"}),Object(r.jsx)(o.a,{variant:"danger",children:"\u73fe\u5728\u81ea\u5206\u306e\u63d0\u51fa\u3057\u304b\u898b\u3089\u308c\u306a\u3044\u4ed5\u69d8\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002"}),Object(r.jsx)(X,{contestName:t})]})},Z=function(e){var t=e.ranking,n=Object(a.useState)(1),c=Object(i.a)(n,2),s=c[0],o=c[1],l=Object(a.useState)(t.slice(0,Math.min(20,t.length))),u=Object(i.a)(l,2),j=u[0],b=u[1],d=Math.ceil(t.length/20),h=function(e){var n=s+e;o(n),b(t.slice(20*(n-1),20*n))};return 0===j.length?Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("div",{children:"\u53c2\u52a0\u8005\u306f\u5c45\u307e\u305b\u3093"})}):Object(r.jsxs)(r.Fragment,{children:[1!==s&&Object(r.jsx)("input",{type:"button",onClick:function(){return h(-1)},value:"previous page"}),s!==d&&Object(r.jsx)("input",{type:"button",onClick:function(){return h(1)},value:"next page"}),Object(r.jsxs)(S.a,{bordered:!0,hover:!0,children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{children:"rank"}),Object(r.jsx)("th",{children:"username"}),Object(r.jsx)("th",{children:"score"}),Object(r.jsx)("th",{children:"time"})]})}),Object(r.jsx)("tbody",{children:j.map((function(e,t){return Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:20*(s-1)+t+1}),Object(r.jsx)("td",{children:e.name}),Object(r.jsx)("td",{children:e.point}),Object(r.jsx)("td",{children:e.submissionTime})]},t)}))})]})]})},$=function(e,t){return e.point===t.point?e.submissionTime===t.submissionTime?0:e.submissionTime>t.submissionTime?1:-1:t.point-e.point},ee=function(e){var t=e.contestName,n=Object(a.useState)(null),c=Object(i.a)(n,2),s=c[0],o=c[1];return Object(a.useEffect)((function(){I(t).then((function(e){e.sort($),o(e)}))}),[]),null===s?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(E,{contestName:t}),Object(r.jsx)("div",{children:"Loading contests..."})]}):0===s.length?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(E,{contestName:t}),Object(r.jsx)("div",{children:"\u53c2\u52a0\u8005\u306f\u5c45\u307e\u305b\u3093"})]}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(E,{contestName:t,active:"ranking"}),Object(r.jsx)(Z,{ranking:s})]})},te=n(268),ne="/api/ratings/",re=function(){var e=Object(x.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("".concat(ne,"userid/").concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ae=function(e){var t=e.rate;return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)(S.a,{bordered:!0,hover:!0,children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{children:"num"}),Object(r.jsx)("th",{children:"contest"}),Object(r.jsx)("th",{children:"performance"}),Object(r.jsx)("th",{children:"rating"})]})}),Object(r.jsx)("tbody",{children:t.ratingData.map((function(e,n){return Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:t.ratingData.length-n}),Object(r.jsx)("td",{children:e.contestName}),Object(r.jsx)("td",{children:t.revPref[n]}),Object(r.jsx)("td",{children:t.revRate[n]})]},e.contestName)}))})]})})},ce=n(16),se=n(122),ie=function(e){for(var t=e.rate,n=[0].concat(t.revRate.slice().reverse()),a=[""],c=1;c<=n.length;c++)1===c||c%5===0?a.push(c.toString()):a.push("");a.push("");for(var s=["rgba(90, 90, 90, 1)","rgba(205, 205, 205, 1)","rgba(250, 217, 174, 1)","rgba(163, 239, 170, 1)","rgba(192, 255, 243, 1)","rgba(109, 129, 255, 1)","rgba(246, 255, 139, 1)","rgba(255, 165, 58, 1)","rgba(255, 119, 119, 1)"],i=[],o=0;o<s.length;o++){for(var l=[],u=0;u<n.length+2;u++)o===s.length-1?l.push(5e3):l.push(400*(o+1));i.push({colorData:l,color:s[o]})}var j=[];j.push({type:"line",borderColor:"rgba(255, 255, 255, 1)",borderWidth:3,borderCapStyle:"round",pointBorderColor:"rgba(0, 0, 0, 1)",pointBackgroundColor:"rgba(255, 255, 255, 1)",data:n,pointRadius:4,pointHitRadius:0,pointBorderWidth:1,label:"rate"});for(var b=0;b<i.length;b++)j.push({type:"line",data:i[b].colorData,fill:!0,borderWidth:0,pointRadius:0,backgroundColor:i[b].color,label:i[b].color});var d={labels:a,datasets:j},h={scales:{x:{beforeFit:!0,offset:!1},y:{min:0,max:200*Math.ceil(Math.max.apply(Math,Object(ce.a)(n))/200)+200,ticks:{stepSize:400}}},plugins:{legend:!1},animation:{duration:0}};return Object(r.jsx)("div",{className:"App",children:Object(r.jsx)(se.a,{data:d,options:h})})},oe=function(){var e=Object(a.useState)(null),t=Object(i.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(null),o=Object(i.a)(s,2),l=o[0],u=o[1],j=JSON.parse(window.localStorage.getItem("loggedUser"));if(Object(a.useEffect)((function(){if(null!==j){var e=j.userid;re(e).then((function(e){e.map((function(e){for(var t=e.ratingData.slice().reverse(),n=[],r=[],a=t.length-1;a>=0;a--){var c=t[a];if(a===t.length-1){var s=Math.floor(4*(parseInt(c.rating)+400)-5700),i=Math.floor(Math.max(c.rating*(t.length-a)/5,Math.min(c.rating,Math.max(0,s/4)+80)));n.push(s),r.push(i)}else if(a>=t.length-5){var o=Math.floor(4*(parseInt(c.rating)+400)-3*(parseInt(t[a+1].rating)+400)),l=Math.floor(Math.max(c.rating*(t.length-a)/5,Math.min(c.rating,Math.max(0,(o+3*r[r.length-1])/4)+400*(t.length-a)/5)));n.push(o),r.push(l)}else{var u=Math.floor(4*parseInt(c.rating)-3*parseInt(t[a+1].rating))+400,j=Math.floor(c.rating)+400;n.push(u),r.push(j)}}return n.reverse(),r.reverse(),e.revPref=n,e.revRate=r,e})),c(e),u(e[0])}))}}),[]),null===n||null===l)return Object(r.jsx)("div",{children:"Loading contests..."});if(0===n.length)return Object(r.jsx)("div",{children:"\u30e6\u30fc\u30b6\u30fc\u767b\u9332\u3057\u3066\u304f\u3060\u3055\u3044"});return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(te.a,{children:[Object(r.jsx)(te.a.Toggle,{variant:"primary",id:"dropdown-basic",children:"\u30b3\u30f3\u30c6\u30b9\u30c8\u3092\u9078\u3076"}),Object(r.jsx)(te.a.Menu,{children:n.map((function(e,t){return Object(r.jsxs)(te.a.Item,{onClick:function(){return function(e){var t=n[e];u(t)}(t)},children:[" ",e.fieldName," "]},e.fieldName)}))})]}),Object(r.jsx)("h1",{children:l.fieldName}),Object(r.jsx)(ie,{rate:l}),Object(r.jsx)(ae,{rate:l})]})},le=n(271),ue=function(e){var t=e.user,n=e.style;return t.name?Object(r.jsx)("em",{style:n,children:t.name}):Object(r.jsxs)(D.a.Link,{href:"#",as:"span",children:[Object(r.jsx)(y.b,{to:"/signup",style:n,children:"signup"}),Object(r.jsx)(y.b,{to:"/login",style:n,children:"login"})]})},je={padding:5,color:"white"},be=function(e){var t=e.user;return Object(r.jsxs)(le.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark",text:"light",children:[Object(r.jsx)(le.a.Brand,{href:"/",children:"Any Contest"}),Object(r.jsx)(D.a,{className:"mr-auto",children:Object(r.jsxs)(D.a.Link,{href:"#",as:"span",children:[Object(r.jsx)(y.b,{style:je,to:"/fields",children:"contests"}),Object(r.jsx)(y.b,{style:je,to:"/rating",children:"rating"})]})}),Object(r.jsx)(D.a,{children:Object(r.jsx)(ue,{user:t,style:je})})]})},de=function(){var e=Object(x.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.post("/api/login/",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),he=function(e){var t=e.setUser,n=e.setMessage,a=Object(u.g)(),c=function(){var e=Object(x.a)(m.a.mark((function e(r){var c,s,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),c=r.target[0].value,s=r.target[1].value,e.prev=3,e.next=6,de({id:c,password:s});case 6:i=e.sent,n("Success: welcome ".concat(c)),setTimeout((function(){n(null)}),5e3),window.localStorage.setItem("loggedUser",JSON.stringify(i)),t({id:c,name:i.name}),n("Success: welcome ".concat(i.name)),setTimeout((function(){n(null)}),5e3),a.push("/"),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(3),n("Error: wrong credentials"),setTimeout((function(){n(null)}),5e3);case 20:case"end":return e.stop()}}),e,null,[[3,16]])})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsxs)("div",{children:[Object(r.jsx)("h2",{children:"login"}),Object(r.jsx)(_.a,{onSubmit:c,children:Object(r.jsxs)(_.a.Group,{children:[Object(r.jsx)(_.a.Label,{children:"id:"}),Object(r.jsx)(_.a.Control,{type:"text",name:"id"}),Object(r.jsx)(_.a.Label,{children:"password:"}),Object(r.jsx)(_.a.Control,{type:"password"}),Object(r.jsx)(b.a,{variant:"primary",type:"submit",children:"login"})]})})]})},pe=function(){var e=Object(x.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.post("/api/users",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Oe=function(e){var t=e.setUser,n=e.setMessage,a=Object(u.g)(),c=function(){var e=Object(x.a)(m.a.mark((function e(r){var c,s,i,o,l;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),c=r.target[0].value,s=r.target[1].value,i=r.target[2].value,o=r.target[3].value,i===o){e.next=9;break}return n("Error: \u5165\u529b\u3055\u308c\u305f\u30d1\u30b9\u30ef\u30fc\u30c9\u304c\u4e00\u81f4\u3057\u307e\u305b\u3093"),setTimeout((function(){n(null)}),5e3),e.abrupt("return");case 9:return e.prev=9,e.next=12,pe({id:c,password:i,name:s});case 12:l=e.sent,t({id:c,name:s}),n("Success: welcome ".concat(s)),setTimeout((function(){n(null)}),5e3),window.localStorage.setItem("loggedUser",JSON.stringify(l)),a.push("/"),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(9),n("Error: \u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u4f5c\u6210\u51fa\u6765\u307e\u305b\u3093\u3067\u3057\u305f\u3001\u9055\u3046id\u3092\u8a66\u3057\u3066\u307f\u3066\u304f\u3060\u3055\u3044"),setTimeout((function(){n(null)}),5e3);case 24:case"end":return e.stop()}}),e,null,[[9,20]])})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsxs)("div",{children:[Object(r.jsx)("h2",{children:"signup"}),Object(r.jsx)(_.a,{onSubmit:c,children:Object(r.jsxs)(_.a.Group,{children:[Object(r.jsx)(_.a.Label,{children:"id:"}),Object(r.jsx)("span",{class:"text-danger",children:"\u203b\u767b\u9332\u5f8cid\u306f\u5909\u66f4\u51fa\u6765\u307e\u305b\u3093"}),Object(r.jsx)(_.a.Control,{type:"text",name:"id"}),Object(r.jsx)(_.a.Label,{children:"user name:"}),Object(r.jsx)(_.a.Control,{type:"text",name:"name"}),Object(r.jsx)(_.a.Label,{children:"password:"}),Object(r.jsx)(_.a.Control,{type:"password"}),Object(r.jsx)(_.a.Label,{children:"confirme password:"}),Object(r.jsx)(_.a.Control,{type:"password"}),Object(r.jsx)(b.a,{variant:"primary",type:"submit",children:"login"})]})})]})},me=n(35),xe=n(117),fe=function(e){return"Debug"===e},ge=function(e){var t=e.contestName,n=e.contestAlreadyCreated;return!(!t||0===t.length)&&0===n.filter((function(e){return e===t})).length},ve=function(e){return!!e&&(19===e.length&&(!!Date.parse(e)&&!(e<"2021-04-01 00:00:00"||"2025-04-01 00:00:00"<e)))},we=function(e){var t=e.problemName,n=e.contestName,r=JSON.parse(window.localStorage.getItem("creatingProblems")).filter((function(e){return e.name===t}))[0];return!(!r.answer||0===r.answer.length)&&(!(!r.contest||r.contest!==n)&&(!!r.judgeType&&(!(!r.name||0===r.name.length)&&(!(!r.point||r.point<1||3e3<r.point)&&(!(!r.problemStatement||0===r.problemStatement.length)&&!(!r.writer||0===r.writer.length))))))},Se=function(){var e=Object(x.a)(m.a.mark((function e(t){var n,r,a,c,s,i,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.contest,r=t.contestAlreadyCreated,a=t.setMessage,fe(n.field)){e.next=6;break}a("Error: Debug\u4ee5\u5916\u306e\u5206\u91ce\u306b\u30b3\u30f3\u30c6\u30b9\u30c8\u306f\u8ffd\u52a0\u51fa\u6765\u307e\u305b\u3093"),setTimeout((function(){a(null)}),1e4),e.next=53;break;case 6:if(ge({contestName:n.name,contestAlreadyCreated:r})){e.next=11;break}a("Error: \u30b3\u30f3\u30c6\u30b9\u30c8\u540d\u304c\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u306a\u3044\u304b\u3001\u3059\u3067\u306b\u5b58\u5728\u3059\u308b\u30b3\u30f3\u30c6\u30b9\u30c8\u540d\u3067\u3059"),setTimeout((function(){a(null)}),1e4),e.next=53;break;case 11:if(fe(n.field)){e.next=16;break}a("Error: Debug\u4ee5\u5916\u306e\u5206\u91ce\u306b\u30b3\u30f3\u30c6\u30b9\u30c8\u306f\u8ffd\u52a0\u51fa\u6765\u307e\u305b\u3093"),setTimeout((function(){a(null)}),1e4),e.next=53;break;case 16:if((u=n.description)&&0!==u.length){e.next=21;break}a("Error: \u30b3\u30f3\u30c6\u30b9\u30c8\u306e\u8aac\u660e\u304c\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u307e\u305b\u3093"),setTimeout((function(){a(null)}),1e4),e.next=53;break;case 21:if(ve(n.startTime)&&ve(n.endTime)){e.next=26;break}a("Error: \u958b\u59cb\u6642\u9593\u3082\u3057\u304f\u306f\u7d42\u4e86\u6642\u9593\u304c\u6b63\u3057\u304f\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u307e\u305b\u3093"),setTimeout((function(){a(null)}),1e4),e.next=53;break;case 26:if((l=n.problemNames)&&0!==l.length){e.next=31;break}a("Error: \u554f\u984c\u304c\u4e00\u3064\u3082\u6709\u308a\u307e\u305b\u3093"),setTimeout((function(){a(null)}),1e4),e.next=53;break;case 31:c=!0,s=0;case 33:if(!(s<n.problemNames.length)){e.next=51;break}if(i=n.problemNames[s],we({problemName:i,contestName:n.name})){e.next=39;break}return a("Error: \u554f\u984c".concat(i,"\u306b\u4e0d\u8db3\u306e\u60c5\u5831\u304c\u3042\u308a\u307e\u3059")),setTimeout((function(){a(null)}),1e4),e.abrupt("break",51);case 39:return e.next=41,B(i);case 41:if(o=e.sent,console.log(o),"not found"===o){e.next=48;break}return a("Error: \u554f\u984c".concat(i,"\u304c\u3059\u3067\u306b\u5b58\u5728\u3059\u308b\u305f\u3081\u540d\u524d\u3092\u5909\u3048\u3066\u304f\u3060\u3055\u3044")),c=!1,setTimeout((function(){a(null)}),1e4),e.abrupt("break",51);case 48:s++,e.next=33;break;case 51:if(!c){e.next=53;break}return e.abrupt("return",!0);case 53:return e.abrupt("return",!1);case 54:case"end":return e.stop()}var l,u}),e)})));return function(t){return e.apply(this,arguments)}}(),ye=function(e){return 1===e.length?"0"+e:e},Ne=function(e,t,n,r,a,c){return"".concat(e,"-").concat(ye(t),"-").concat(ye(n)," ").concat(ye(r),":").concat(ye(a),":").concat(ye(c))},ke=function(e){var t=e.event,n=e.contest,r=e.contests,a=e.setContests,c=e.setContest,s=t.target[0].value,i=t.target[1].value,o=Ne(t.target[2].value,t.target[3].value,t.target[4].value,t.target[5].value,t.target[6].value,t.target[7].value),l=Ne(t.target[8].value,t.target[9].value,t.target[10].value,t.target[11].value,t.target[12].value,t.target[13].value),u={name:s,field:"Debug",ranking:[],description:i,minRating:0,maxRating:5e3,maxperformance:5e3,problemNames:n.problemNames,startTime:o,endTime:l,writers:n.writers,penalty:300};if(0!==r.filter((function(e){return e.name===s})).length){var j=r.map((function(e){return e.name===s?u:e}));window.localStorage.setItem("creatingContests",JSON.stringify(j)),a(j)}else{var b=r.concat(u);window.localStorage.setItem("creatingContests",JSON.stringify(b)),a(b)}return c(u),u},Te=function(){var e=Object(x.a)(m.a.mark((function e(t){var n,r,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(n=JSON.parse(localStorage.getItem("loggedUser")))){e.next=3;break}return e.abrupt("return",[]);case 3:return r="bearer ".concat(n.token),e.next=6,g.a.post("".concat("/api/answers"),t,{headers:{Authorization:r}});case 6:return a=e.sent,e.abrupt("return",a.data);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ce=function(){var e=Object(x.a)(m.a.mark((function e(t){var n,r,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=JSON.parse(window.localStorage.getItem("creatingProblems")).filter((function(e){return e.name===t}))[0],r={name:n.name,point:n.point,writer:n.writer,contest:n.contest,problemStatement:n.problemStatement,judgeType:n.judgeType},a={name:n.name,answer:n.answer},e.next=5,K(r);case 5:return e.next=7,Te(a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ie=function(e){var t=e.contestName,n=e.setMessage,c=Object(a.useState)(null),s=Object(i.a)(c,2),l=s[0],j=s[1];Object(a.useEffect)((function(){k({fromTime:"2000-01-01 00:00:00",toTime:"2100-01-01 00:00:00"}).then((function(e){j(e.map((function(e){return e.name})))}))}),[]);var d=Object(u.g)(),h=Object(a.useState)(null!==JSON.parse(window.localStorage.getItem("creatingContests"))?JSON.parse(window.localStorage.getItem("creatingContests")):[]),p=Object(i.a)(h,2),O=p[0],m=p[1],x=Object(a.useState)(0===O.filter((function(e){return e.name===t})).length?{problemNames:[]}:O.filter((function(e){return e.name===t}))[0]),f=Object(i.a)(x,2),g=f[0],v=f[1],w=function(e){e.preventDefault();var t=e.target.value,n=JSON.parse(window.localStorage.getItem("creatingProblems")).filter((function(e){return e.name!==t}));window.localStorage.setItem("creatingProblems",JSON.stringify(n));var r=g.problemNames.filter((function(e){return e!==t})),a=Object(me.a)(Object(me.a)({},g),{},{problemNames:r});v(a);var c=O.map((function(e){return 0!==e.problemNames.filter((function(e){return e===t})).length?a:e}));m(c),window.localStorage.setItem("creatingContests",JSON.stringify(c))};return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)(_.a,{style:{paddingTop:20},onSubmit:function(e){e.preventDefault();var t=ke({event:e,contest:g,contests:O,setContests:m,setContest:v}),r=e.nativeEvent.submitter.innerHTML;"\u554f\u984c\u3092\u8ffd\u52a0\u3059\u308b"===r&&d.push("/create_problem/"),"\u30b3\u30f3\u30c6\u30b9\u30c8\u3092\u516c\u958b\u3059\u308b"===r&&function(e){e.event;var t=e.newContest;Se({contest:t,contestAlreadyCreated:l,setMessage:n}).then((function(e){console.log(e),e&&(C(t),t.problemNames.forEach((function(e){Ce(e)})),d.push("/fields/Debug"))}))}({event:e,newContest:t})},children:[Object(r.jsxs)(_.a.Group,{controlId:"contestName",children:[Object(r.jsx)(_.a.Label,{children:"\u30b3\u30f3\u30c6\u30b9\u30c8\u540d"}),Object(r.jsx)(_.a.Control,{type:"text",placeholder:"\u30b3\u30f3\u30c6\u30b9\u30c8\u540d",defaultValue:g.name})]}),Object(r.jsxs)(_.a.Group,{controlId:"description",children:[Object(r.jsx)(_.a.Label,{children:"\u8aac\u660e"}),Object(r.jsx)(_.a.Control,{as:"textarea",rows:3,placeholder:"\u30b3\u30f3\u30c6\u30b9\u30c8\u306e\u8aac\u660e",defaultValue:g.description})]}),Object(r.jsx)(_.a.Label,{children:"\u958b\u59cb\u6642\u9593"}),Object(r.jsxs)(_.a.Row,{children:[Object(r.jsxs)(xe.a,{children:[Object(r.jsx)(_.a.Label,{column:"sm",lg:2,children:"\u5e74"}),Object(r.jsx)(_.a.Control,{placeholder:"2021",defaultValue:g.startTime?g.startTime.substring(0,4):null})]}),Object(r.jsxs)(xe.a,{children:[Object(r.jsx)(_.a.Label,{column:"sm",lg:2,children:"\u6708"}),Object(r.jsx)(_.a.Control,{placeholder:"4",defaultValue:g.startTime?g.startTime.substring(5,7):null})]}),Object(r.jsxs)(xe.a,{children:[Object(r.jsx)(_.a.Label,{column:"sm",lg:2,children:"\u65e5"}),Object(r.jsx)(_.a.Control,{placeholder:"1",defaultValue:g.startTime?g.startTime.substring(8,10):null})]}),Object(r.jsxs)(xe.a,{children:[Object(r.jsx)(_.a.Label,{column:"sm",lg:2,children:"\u6642"}),Object(r.jsx)(_.a.Control,{placeholder:"9",defaultValue:g.startTime?g.startTime.substring(11,13):null})]}),Object(r.jsxs)(xe.a,{children:[Object(r.jsx)(_.a.Label,{column:"sm",lg:2,children:"\u5206"}),Object(r.jsx)(_.a.Control,{placeholder:"0",defaultValue:g.startTime?g.startTime.substring(14,16):null})]}),Object(r.jsxs)(xe.a,{children:[Object(r.jsx)(_.a.Label,{column:"sm",lg:2,children:"\u79d2"}),Object(r.jsx)(_.a.Control,{placeholder:"0",defaultValue:g.startTime?g.startTime.substring(17,19):null})]})]}),Object(r.jsx)(_.a.Label,{style:{paddingTop:20},children:"\u7d42\u4e86\u6642\u9593"}),Object(r.jsxs)(_.a.Row,{children:[Object(r.jsxs)(xe.a,{children:[Object(r.jsx)(_.a.Label,{column:"sm",lg:2,children:"\u5e74"}),Object(r.jsx)(_.a.Control,{placeholder:"2021",defaultValue:g.endTime?g.endTime.substring(0,4):null})]}),Object(r.jsxs)(xe.a,{children:[Object(r.jsx)(_.a.Label,{column:"sm",lg:2,children:"\u6708"}),Object(r.jsx)(_.a.Control,{placeholder:"4",defaultValue:g.endTime?g.endTime.substring(5,7):null})]}),Object(r.jsxs)(xe.a,{children:[Object(r.jsx)(_.a.Label,{column:"sm",lg:2,children:"\u65e5"}),Object(r.jsx)(_.a.Control,{placeholder:"1",defaultValue:g.endTime?g.endTime.substring(8,10):null})]}),Object(r.jsxs)(xe.a,{children:[Object(r.jsx)(_.a.Label,{column:"sm",lg:2,children:"\u6642"}),Object(r.jsx)(_.a.Control,{placeholder:"9",defaultValue:g.endTime?g.endTime.substring(11,13):null})]}),Object(r.jsxs)(xe.a,{children:[Object(r.jsx)(_.a.Label,{column:"sm",lg:2,children:"\u5206"}),Object(r.jsx)(_.a.Control,{placeholder:"0",defaultValue:g.endTime?g.endTime.substring(14,16):null})]}),Object(r.jsxs)(xe.a,{children:[Object(r.jsx)(_.a.Label,{column:"sm",lg:2,children:"\u79d2"}),Object(r.jsx)(_.a.Control,{placeholder:"0",defaultValue:g.endTime?g.endTime.substring(17,19):null})]})]}),Object(r.jsx)("div",{style:{paddingTop:20},children:Object(r.jsx)(S.a,{striped:!0,bordered:!0,hover:!0,children:Object(r.jsx)("tbody",{children:g.problemNames.map((function(e){return Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:Object(r.jsx)(y.b,{to:"/create_problem/".concat(e),children:e})}),Object(r.jsx)("td",{children:Object(r.jsx)(b.a,{variant:"outline-danger",value:e,onClick:w,children:"\u524a\u9664"})})]},e)}))})})}),Object(r.jsx)(b.a,{variant:"primary",type:"submit",children:"\u554f\u984c\u3092\u8ffd\u52a0\u3059\u308b"}),Object(r.jsxs)("div",{style:{float:"right"},children:[Object(r.jsx)(o.a,{variant:"warning",children:"*\u30b3\u30f3\u30c6\u30b9\u30c8\u3092\u516c\u958b\u3059\u308b\u3068\u5909\u66f4\u51fa\u6765\u306a\u3044\u306e\u3067\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044"}),Object(r.jsx)(b.a,{variant:"primary",type:"submit",children:"\u30b3\u30f3\u30c6\u30b9\u30c8\u3092\u516c\u958b\u3059\u308b"})]})]})})},Le=function(){var e=Object(u.g)(),t=null!==JSON.parse(window.localStorage.getItem("creatingContests"))?JSON.parse(window.localStorage.getItem("creatingContests")):[];return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h2",{style:{paddingTop:20},children:"\u4f5c\u6210\u4e2d\u306e\u30b3\u30f3\u30c6\u30b9\u30c8"}),Object(r.jsxs)(S.a,{striped:!0,bordered:!0,hover:!0,children:[Object(r.jsx)("thead",{children:Object(r.jsx)("tr",{children:Object(r.jsx)("th",{children:"contest name"})})}),Object(r.jsx)("tbody",{children:t.map((function(e){return Object(r.jsx)("tr",{children:Object(r.jsx)("td",{children:Object(r.jsx)(y.b,{to:"/create_contest/".concat(e.name),children:e.name})})},e.name)}))})]}),Object(r.jsxs)("div",{style:{paddingTop:20},children:[Object(r.jsx)(b.a,{variant:"outline-primary",block:!0,onClick:function(t){t.preventDefault(),e.push("/create_contest/tempName")},children:"\u65b0\u3057\u3044\u30b3\u30f3\u30c6\u30b9\u30c8\u3092\u4f5c\u308b"})," "]})]})},Je=function(e){var t=e.problemName,n=Object(u.g)(),c=Object(a.useState)(null!==JSON.parse(window.localStorage.getItem("creatingContests"))?JSON.parse(window.localStorage.getItem("creatingContests")):[]),s=Object(i.a)(c,2),o=s[0],l=s[1],j=Object(a.useState)(null!==JSON.parse(window.localStorage.getItem("creatingProblems"))?JSON.parse(window.localStorage.getItem("creatingProblems")):[]),d=Object(i.a)(j,2),h=d[0],p=d[1],O=h.filter((function(e){return e.name===t})),m=0===O.length?{}:O[0],x=Object(a.useState)("\u30b3\u30f3\u30c6\u30b9\u30c8\u3092\u9078\u3076"),f=Object(i.a)(x,2),g=f[0],v=f[1],w=function(e){e.preventDefault(),v(e.target.text.substring(1,e.target.text.length-1))};return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{style:{paddingTop:20},children:"\u30b3\u30f3\u30c6\u30b9\u30c8\u540d"}),Object(r.jsxs)(te.a,{children:[Object(r.jsx)(te.a.Toggle,{variant:"primary",id:"dropdown-basic",children:g}),Object(r.jsx)(te.a.Menu,{children:o.map((function(e,t){return Object(r.jsxs)(te.a.Item,{onClick:w,children:[" ",e.name," "]},e.name)}))})]}),Object(r.jsxs)(_.a,{onSubmit:function(e){e.preventDefault();var t=e.target[0].value,r=e.target[1].value,a=e.target[2].value,c=e.target[3].value,s={name:t,point:parseInt(c),writer:JSON.parse(window.localStorage.getItem("loggedUser")).name,contest:g,answer:a,problemStatement:r,judgeType:"SimpleInput"},i=0!==h.filter((function(e){return e.name===t})).length;if(console.log(i),i){var u=h.map((function(e){return e.name===t?s:e}));p(u),window.localStorage.setItem("creatingProblems",JSON.stringify(u))}else{var j=h.concat([s]);p(j),window.localStorage.setItem("creatingProblems",JSON.stringify(j))}var b=o.map((function(e){return e.name===g&&0===e.problemNames.filter((function(e){return e===t})).length&&e.problemNames.push(t),e}));l(b),window.localStorage.setItem("creatingContests",JSON.stringify(b)),n.push("/create_contest/".concat(g))},children:[Object(r.jsxs)(_.a.Group,{controlId:"problemName",children:[Object(r.jsx)(_.a.Label,{children:"\u554f\u984c\u540d"}),Object(r.jsx)(_.a.Control,{placeholder:"50\u6587\u5b57\u4ee5\u4e0b",defaultValue:t})]}),Object(r.jsxs)(_.a.Group,{controlId:"problemStatement",children:[Object(r.jsx)(_.a.Label,{children:"\u554f\u984c\u6587"}),Object(r.jsx)(_.a.Control,{as:"textarea",row:3,placeholder:"1000\u6587\u5b57\u4ee5\u4e0b",defaultValue:m.problemStatement})]}),Object(r.jsxs)(_.a.Group,{controlId:"answer",children:[Object(r.jsx)(_.a.Label,{children:"\u7b54\u3048"}),Object(r.jsx)(_.a.Control,{as:"textarea",row:3,placeholder:"500\u6587\u5b57\u4ee5\u4e0b",defaultValue:m.answer})]}),Object(r.jsxs)(_.a.Group,{controlId:"point",children:[Object(r.jsx)(_.a.Label,{children:"\u70b9\u6570"}),Object(r.jsx)(_.a.Control,{placeholder:"1\u301c3000\u306e\u9593",defaultValue:m.point})]}),Object(r.jsx)(b.a,{variant:"primary",type:"submit",children:"\u554f\u984c\u3092\u8ffd\u52a0"})]})]})},Me=function(){return Object(r.jsxs)("div",{children:[Object(r.jsx)("h2",{children:"TKTL notes app"}),Object(r.jsxs)("ul",{children:[Object(r.jsx)("li",{children:"Matti Luukkainen"}),Object(r.jsx)("li",{children:"Juha Tauriainen"}),Object(r.jsx)("li",{children:"Arto Hellas"})]})]})},De=function(){var e=Object(a.useState)({}),t=Object(i.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(null),j=Object(i.a)(s,2),b=j[0],h=j[1],p=Object(u.h)("/fields/:field"),O=p?p.params.field:null,m=Object(u.h)("/contests/:contest"),x=m?m.params.contest:null,f=Object(u.h)("/problems/:problem"),g=f?f.params.problem:null,v=Object(u.h)("/create_contest/:contestName"),S=v?v.params.contestName:null,y=Object(u.h)("/create_problem/:problemName"),N=y?y.params.problemName:null;return Object(a.useEffect)((function(){var e=window.localStorage.getItem("loggedUser");if(e){var t=JSON.parse(e);c(t)}}),[]),Object(r.jsxs)("div",{children:[b&&b.startsWith("Success:")&&Object(r.jsx)(o.a,{variant:"success",children:b}),b&&b.startsWith("Error:")&&Object(r.jsx)(o.a,{variant:"danger",children:b}),Object(r.jsx)(be,{user:n}),Object(r.jsxs)(l.a,{children:[Object(r.jsxs)(u.d,{children:[Object(r.jsx)(u.b,{path:"/fields/:field",children:Object(r.jsx)(M,{fieldName:O})}),Object(r.jsx)(u.b,{path:"/contests/:contest/problems",children:Object(r.jsx)(A,{contestName:x})}),Object(r.jsx)(u.b,{path:"/contests/:contest/submissions",children:Object(r.jsx)(Y,{contestName:x})}),Object(r.jsx)(u.b,{path:"/contests/:contest/ranking",children:Object(r.jsx)(ee,{contestName:x})}),Object(r.jsx)(u.b,{path:"/contests/:contest",children:Object(r.jsx)(V,{contestName:x})}),Object(r.jsx)(u.b,{path:"/problems/:problem",children:Object(r.jsx)(q,{problemName:g})}),Object(r.jsx)(u.b,{path:"/fields",children:Object(r.jsx)(w,{})}),Object(r.jsx)(u.b,{path:"/users",children:n?Object(r.jsx)(Me,{}):Object(r.jsx)(u.a,{to:"/login"})}),Object(r.jsx)(u.b,{path:"/login",children:Object(r.jsx)(he,{setUser:function(e){return c(e)},setMessage:function(e){return h(e)}})}),Object(r.jsx)(u.b,{path:"/signup",children:Object(r.jsx)(Oe,{setUser:function(e){return c(e)},setMessage:function(e){return h(e)}})}),Object(r.jsx)(u.b,{path:"/rating",children:Object(r.jsx)(oe,{})}),Object(r.jsx)(u.b,{path:"/create_contest/:contestName",children:Object(r.jsx)(Ie,{contestName:S,setMessage:function(e){return h(e)}})}),Object(r.jsx)(u.b,{path:"/create_contest",children:Object(r.jsx)(Le,{})}),Object(r.jsx)(u.b,{path:"/create_problem/:problemName",children:Object(r.jsx)(Je,{problemName:N})}),Object(r.jsx)(u.b,{path:"/create_problem/",children:Object(r.jsx)(Je,{})}),Object(r.jsx)(u.b,{path:"/",children:Object(r.jsx)(d,{})})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("br",{}),Object(r.jsx)("em",{children:"kuso app"})]})]})]})};s.a.render(Object(r.jsx)(y.a,{children:Object(r.jsx)(De,{})}),document.getElementById("root"))}},[[258,1,2]]]);
//# sourceMappingURL=main.6b970bc6.chunk.js.map